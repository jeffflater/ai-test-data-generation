syntax = "proto3";

package example.user;

option java_package = "com.example.user";
option java_outer_classname = "UserProtos";

// User represents a user in the system
message User {
  string id = 1;
  string username = 2;
  string email = 3;
  string full_name = 4;
  int32 age = 5;
  double balance = 6;
  bool is_active = 7;
  bool is_verified = 8;
  Role role = 9;
  Address address = 10;
  repeated string tags = 11;
  Preferences preferences = 12;
  int64 created_at = 13;
  int64 updated_at = 14;
}

// Role represents user roles in the system
enum Role {
  ROLE_UNSPECIFIED = 0;
  ADMIN = 1;
  MODERATOR = 2;
  USER = 3;
  GUEST = 4;
}

// Address represents a physical address
message Address {
  string street = 1;
  string city = 2;
  string state = 3;
  string postal_code = 4;
  string country = 5;
}

// Preferences represents user preferences
message Preferences {
  Theme theme = 1;
  bool notifications_enabled = 2;
  string language = 3;
  string timezone = 4;
}

// Theme represents UI theme options
enum Theme {
  THEME_UNSPECIFIED = 0;
  LIGHT = 1;
  DARK = 2;
  SYSTEM = 3;
}

// Order represents a customer order
message Order {
  string id = 1;
  string user_id = 2;
  string order_number = 3;
  OrderStatus status = 4;
  double total_amount = 5;
  string currency = 6;
  repeated OrderItem items = 7;
  Address shipping_address = 8;
  Address billing_address = 9;
  string notes = 10;
  int64 created_at = 11;
  int64 shipped_at = 12;
  int64 delivered_at = 13;
}

// OrderStatus represents the status of an order
enum OrderStatus {
  ORDER_STATUS_UNSPECIFIED = 0;
  PENDING = 1;
  PROCESSING = 2;
  SHIPPED = 3;
  DELIVERED = 4;
  CANCELLED = 5;
}

// OrderItem represents an item in an order
message OrderItem {
  string id = 1;
  string product_id = 2;
  string product_name = 3;
  int32 quantity = 4;
  double unit_price = 5;
  double total_price = 6;
}

// UserEvent represents events related to user actions
message UserEvent {
  string event_id = 1;
  EventType event_type = 2;
  string user_id = 3;
  int64 timestamp = 4;
  string ip_address = 5;
  string user_agent = 6;
  map<string, string> metadata = 7;
}

// EventType represents types of user events
enum EventType {
  EVENT_TYPE_UNSPECIFIED = 0;
  USER_CREATED = 1;
  USER_UPDATED = 2;
  USER_DELETED = 3;
  USER_LOGIN = 4;
  USER_LOGOUT = 5;
  PASSWORD_CHANGED = 6;
  EMAIL_VERIFIED = 7;
}
